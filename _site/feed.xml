<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>li2go</title>
    <description>just simple blog.</description>
    <link>http://diaofly.com/</link>
    <atom:link href="http://diaofly.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 07 Nov 2016 02:43:32 +0800</pubDate>
    <lastBuildDate>Mon, 07 Nov 2016 02:43:32 +0800</lastBuildDate>
    <generator>Jekyll v3.1.1</generator>
    
      <item>
        <title>这个冬天有点冷</title>
        <description>&lt;p&gt;身体没有以前那么好了。开始眼花，脑热。&lt;/p&gt;

&lt;p&gt;白天的时候不想睁眼睛。&lt;/p&gt;

&lt;p&gt;晚上的时候躺在床上，暖被我半天了才暖和。然后又被该死的闹钟叫醒。&lt;/p&gt;

&lt;p&gt;好困。&lt;/p&gt;

&lt;p&gt;好困。&lt;/p&gt;

&lt;p&gt;好困啊。&lt;/p&gt;

&lt;p&gt;工作还是那么忙。&lt;/p&gt;

&lt;p&gt;白天的时候睡觉竟然流了口水出来。&lt;/p&gt;

&lt;p&gt;她们都那么的嚣张跋扈。&lt;/p&gt;

</description>
        <pubDate>Tue, 01 Nov 2016 01:54:25 +0800</pubDate>
        <link>http://diaofly.com/%E5%85%B6%E5%AE%83/2016/11/01/%E6%83%B3%E8%AF%B4%E7%82%B9%E4%BB%80%E4%B9%88.html</link>
        <guid isPermaLink="true">http://diaofly.com/%E5%85%B6%E5%AE%83/2016/11/01/%E6%83%B3%E8%AF%B4%E7%82%B9%E4%BB%80%E4%B9%88.html</guid>
        
        
        <category>其它</category>
        
      </item>
    
      <item>
        <title>“你就先照着个做吧”</title>
        <description>&lt;p&gt;“你就先照着这个做吧，至于这个情况先不管，先做出来看看”&lt;/p&gt;

&lt;h1 id=&quot;whats-the-fk-say&quot;&gt;whats the f＊＊k say&lt;/h1&gt;

&lt;p&gt;whats the fuck&lt;/p&gt;

&lt;p&gt;whats&lt;/p&gt;

&lt;p&gt;wots&lt;/p&gt;
</description>
        <pubDate>Mon, 31 Oct 2016 03:24:25 +0800</pubDate>
        <link>http://diaofly.com/%E5%85%B6%E5%AE%83/2016/10/31/%E4%BD%A0%E5%B0%B1%E5%85%88%E7%85%A7%E7%9D%80%E8%BF%99%E4%B8%AA%E5%81%9A%E5%90%A7-%E8%87%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E6%83%85%E5%86%B5%E5%85%88%E4%B8%8D%E7%AE%A1-%E5%85%88%E5%81%9A%E5%87%BA%E6%9D%A5%E7%9C%8B%E7%9C%8B.html</link>
        <guid isPermaLink="true">http://diaofly.com/%E5%85%B6%E5%AE%83/2016/10/31/%E4%BD%A0%E5%B0%B1%E5%85%88%E7%85%A7%E7%9D%80%E8%BF%99%E4%B8%AA%E5%81%9A%E5%90%A7-%E8%87%B3%E4%BA%8E%E8%BF%99%E4%B8%AA%E6%83%85%E5%86%B5%E5%85%88%E4%B8%8D%E7%AE%A1-%E5%85%88%E5%81%9A%E5%87%BA%E6%9D%A5%E7%9C%8B%E7%9C%8B.html</guid>
        
        
        <category>其它</category>
        
      </item>
    
      <item>
        <title>想说点什么</title>
        <description>&lt;p&gt;竟然看完了fabric的中文文档，并且还封装了一些类。
英文文档真扯。得对照源码看。妈哒，哪有那么多时间啊。
大榴哥也不给我安排别的任务了，倒是老萝莉在我旁边老问我这问我那一惊一乍的搞得我很不好。&lt;/p&gt;

&lt;p&gt;静下心来的时候还是有思路的，啪啪啪码一会儿感觉还可以。
从服务器接入数据，然后展示数据，然后渲染。交互，输入输出。
做的时候才知道这也不对那也不对。
也许，是我想的太难了？&lt;/p&gt;

&lt;p&gt;接下来呢？&lt;/p&gt;

&lt;p&gt;拖拽置入图片的交互。&lt;/p&gt;

&lt;p&gt;拖拽应用模版的交互。&lt;/p&gt;

&lt;p&gt;图片在容器位置的调整。&lt;/p&gt;

&lt;p&gt;图片数据的导出和还原。&lt;/p&gt;

&lt;p&gt;模版的使用筛选及数据转换。&lt;/p&gt;

&lt;p&gt;照片容器的删除与添加&lt;/p&gt;

&lt;p&gt;饰品的添加。&lt;/p&gt;

&lt;p&gt;文字的添加。&lt;/p&gt;

&lt;p&gt;图片的导出与存储。&lt;/p&gt;

&lt;p&gt;相册的效果预览。&lt;/p&gt;

&lt;p&gt;元素的组合定位。&lt;/p&gt;

&lt;p&gt;容器拖拽辅助线的算法。&lt;/p&gt;

&lt;p&gt;元素复制。&lt;/p&gt;

&lt;p&gt;界面缩放。&lt;/p&gt;

&lt;p&gt;历史栈管理。&lt;/p&gt;

&lt;p&gt;数据的用户定制。&lt;/p&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;p&gt;呃。。。。。&lt;/p&gt;

</description>
        <pubDate>Mon, 31 Oct 2016 03:24:25 +0800</pubDate>
        <link>http://diaofly.com/%E5%85%B6%E5%AE%83/2016/10/31/%E8%BF%99%E4%B8%AA%E5%86%AC%E5%A4%A9%E6%9C%89%E7%82%B9%E5%86%B7.html</link>
        <guid isPermaLink="true">http://diaofly.com/%E5%85%B6%E5%AE%83/2016/10/31/%E8%BF%99%E4%B8%AA%E5%86%AC%E5%A4%A9%E6%9C%89%E7%82%B9%E5%86%B7.html</guid>
        
        
        <category>其它</category>
        
      </item>
    
      <item>
        <title>0.0</title>
        <description>&lt;p&gt;没错，现在是北京时间一点二十。。
我还在加班，和我一起的有两只猫和一个后端同学。
被相册商城搞的苦不堪言。
搞得自己成天幻想自己炸裂。
然而并没有炸裂。&lt;/p&gt;

&lt;p&gt;办公室里灯亮着，依稀可以听见晃晃姐说话的声音，后背发凉。&lt;/p&gt;

&lt;p&gt;优惠券，是个大坑啊。&lt;/p&gt;
</description>
        <pubDate>Thu, 29 Sep 2016 00:00:00 +0800</pubDate>
        <link>http://diaofly.com/%E7%94%9F%E6%B4%BB/2016/09/29/0.0.html</link>
        <guid isPermaLink="true">http://diaofly.com/%E7%94%9F%E6%B4%BB/2016/09/29/0.0.html</guid>
        
        
        <category>生活</category>
        
      </item>
    
      <item>
        <title>喔</title>
        <description>&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;老人看着夜里的铺子精神恍惚
蹄儿在教室里等我回去上课
干涩的眼睛留下背包

恍惚逃过四季
跳跃 行走
穿过路灯下的斑驳
穿过路边狂吠的狗


回一次家，躲在邻居的房顶
看天边膨胀的星
叹息透过虚掩的门
灯影画出回声

烟火逃避四季
穿过我的掌心
穿过丢失水草的河流
穿过头顶的乌云
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Tue, 13 Sep 2016 00:00:00 +0800</pubDate>
        <link>http://diaofly.com/li2go/2016/09/13/%E5%96%94.html</link>
        <guid isPermaLink="true">http://diaofly.com/li2go/2016/09/13/%E5%96%94.html</guid>
        
        
        <category>li2go</category>
        
      </item>
    
      <item>
        <title>Ios设备的audio元素音量控制限制</title>
        <description>&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Volume Control in JavaScriptOn the desktop, you can set and read the volume property of an `audio` element. 
This allows you to set the element’s `audio` volume relative to the computer’s current volume setting.
A value of 1 plays sound at the normal level. A value of 0 silences the `audio`.
Values between 0 and 1 attenuate the `audio`.
 This volume adjustment can be useful, because it allows the user to mute a game,
for example, while still listening to music on the computer.On iOS devices, 
the `audio` level is always under the user’s physical control. The volume property is not settable in JavaScript. 
Reading the volume property always returns 1.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;来自于官网的说明。&lt;/p&gt;

&lt;p&gt;你不能使用javascript来控制ios移动设备&lt;code class=&quot;highlighter-rouge&quot;&gt;Audio&lt;/code&gt;元素的音量，只有使用物理方式。&lt;/p&gt;

&lt;p&gt;在桌面端，&lt;code class=&quot;highlighter-rouge&quot;&gt;audio&lt;/code&gt;元素的音量［volume］属性可写可读，这允许我们控制&lt;code class=&quot;highlighter-rouge&quot;&gt;audio&lt;/code&gt;的音量，基于电脑的系统音量设定。
正常情况下音量的值为1，使用0让&lt;code class=&quot;highlighter-rouge&quot;&gt;audio&lt;/code&gt;静音。设置0-1之间的值来控制音量。
音量控制很有用，因为这可以使游戏静音，比如一边听音乐一边打游戏。
在ios设备上，&lt;code class=&quot;highlighter-rouge&quot;&gt;audio&lt;/code&gt;元素的音量级别只能在用户的物理方式下控制，音量属性［volume］是不可被javascript设置的。
volume永远为只读的，且值为1.&lt;/p&gt;

&lt;p&gt;测试在android设备上并未发现此种限制。&lt;/p&gt;

&lt;p&gt;一个需求点在于，想要在设备上实现音乐播放的淡入淡出。
然而并没有提供简单的API去供使用，&lt;code class=&quot;highlighter-rouge&quot;&gt;Audio&lt;/code&gt;Context比较复杂。
想到了这种interval音量衰减实现淡出。
没戏。&lt;/p&gt;

&lt;p&gt;😄&lt;/p&gt;
</description>
        <pubDate>Mon, 04 Jul 2016 01:54:25 +0800</pubDate>
        <link>http://diaofly.com/2016/07/04/Ios%E8%AE%BE%E5%A4%87%E7%9A%84audio%E5%85%83%E7%B4%A0%E9%9F%B3%E9%87%8F%E6%8E%A7%E5%88%B6%E9%99%90%E5%88%B6.html</link>
        <guid isPermaLink="true">http://diaofly.com/2016/07/04/Ios%E8%AE%BE%E5%A4%87%E7%9A%84audio%E5%85%83%E7%B4%A0%E9%9F%B3%E9%87%8F%E6%8E%A7%E5%88%B6%E9%99%90%E5%88%B6.html</guid>
        
        
      </item>
    
      <item>
        <title>History</title>
        <description>&lt;p&gt;History,历史，文艺的叫它回忆。
回到过去，并不能还原当初的状态，但过去历历在目，物是人非罢了。&lt;/p&gt;

&lt;p&gt;回忆的回忆，梦里的梦，镜子里的镜子。&lt;/p&gt;

&lt;p&gt;replace。用现在替代过去，&lt;/p&gt;
</description>
        <pubDate>Fri, 11 Mar 2016 00:00:00 +0800</pubDate>
        <link>http://diaofly.com/2016/03/11/History.html</link>
        <guid isPermaLink="true">http://diaofly.com/2016/03/11/History.html</guid>
        
        
      </item>
    
      <item>
        <title>微信Audio元素的正确打开方式</title>
        <description>&lt;p&gt;实际上并没有找到正确的打开方式。
为了业务需求做了音乐的与加载，使用preload，使用new Audio来预加载音乐。
然而canpaly canplaythrough 并不会被触发。。&lt;/p&gt;

&lt;p&gt;这是一件相当蛋疼的事情的啊。&lt;/p&gt;

&lt;p&gt;因为之前还用new Image来预加载了图片，图片刷刷刷的带着单个进度变化的回调函数兴高采烈的来更新组件的state，满怀着希望看它从一个小小的0成长到骄傲的100，这个时候我们的onPictureAllLoad触发，之前给它安排的loadMusic任务便要开始了。
 我说你自觉啊。你怎么不自觉呢。你怎么上了微信就不行了了呢。&lt;/p&gt;

&lt;p&gt;audio不能complete，不能canplay，不能canplaythrough。我他丫的给你降低了这么多标准，，不能忍下去了。&lt;/p&gt;

&lt;p&gt;我说啊。你这个狗肉不上席的家伙。在自家的chrome上生龙活虎的，一上微信就不行了啊。&lt;/p&gt;

&lt;p&gt;然而，二狗并不会放弃你。&lt;/p&gt;

&lt;p&gt;二狗想起了一个难以理解的老女人。
 当他以各种各样的方法去靠近她理解她，都不得解。&lt;/p&gt;

&lt;p&gt;是谁更厌烦呢。&lt;/p&gt;

&lt;p&gt;当我在费劲千辛万苦在调试一个bug的时候，谁更烦一些呢。&lt;/p&gt;

&lt;p&gt;如果程序有生命的话，真是很难想到答案。。&lt;/p&gt;

&lt;p&gt;我是拒绝的。&lt;/p&gt;

&lt;p&gt;我说我们谈谈。&lt;/p&gt;

&lt;p&gt;我就像静静的看着你。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; function debugAudio(url) {
    var music = new Audio();
    music.id = &#39;audio&#39;;
    music.src = url;
    music.setAttribute(&#39;preload&#39;, &#39;preload&#39;);
    music.setAttribute(&#39;loop&#39;, &#39;loop&#39;);
    document.getElementById(&quot;main&quot;).appendChild(music);
    var eventsData = {
        abort: &quot;当音频/视频的加载已放弃时&quot;,
        canplay: &quot;当浏览器可以播放音频/视频时&quot;,
        canplaythrough: &quot;当浏览器可在不因缓冲而停顿的情况下进行播放时&quot;,
        durationchange: &quot;当音频/视频的时长已更改时&quot;,
        emptied: &quot;当目前的播放列表为空时&quot;,
        ended: &quot;当目前的播放列表已结束时&quot;,
        error: &quot;当在音频/视频加载期间发生错误时&quot;,
        loadeddata: &quot;当浏览器已加载音频/视频的当前帧时&quot;,
        loadedmetadata: &quot;当浏览器已加载音频/视频的元数据时&quot;,
        loadstart: &quot;当浏览器开始查找音频/视频时&quot;,
        pause: &quot;当音频/视频已暂停时&quot;,
        play: &quot;当音频/视频已开始或不再暂停时&quot;,
        playing: &quot;当音频/视频在已因缓冲而暂停或停止后已就绪时&quot;,
        progress: &quot;当浏览器正在下载音频/视频时&quot;,
        ratechange: &quot;当音频/视频的播放速度已更改时&quot;,
        seeking: &quot;当用户开始移动/跳跃到音频/视频中的新位置时&quot;,
        stalled: &quot;当浏览器尝试获取媒体数据，但数据不可用时&quot;
    };
    var audioEvents = Object.keys(eventsData);
    audioEvents.map(function (e) {
        music.addEventListener(e, function () {
            console.log(e, eventsData[e])
        })
    });
  }
  
debugAudio(music_url);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;0.0&lt;/p&gt;

&lt;p&gt;当我写完这段让我妄图看清你的代码，你却变了。你彻底变了。&lt;/p&gt;

&lt;p&gt;你不再是那个沉默寡言的你了。&lt;/p&gt;

&lt;p&gt;the end。&lt;/p&gt;

</description>
        <pubDate>Fri, 04 Mar 2016 00:00:00 +0800</pubDate>
        <link>http://diaofly.com/2016/03/04/%E5%BE%AE%E4%BF%A1Audio%E5%85%83%E7%B4%A0%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F.html</link>
        <guid isPermaLink="true">http://diaofly.com/2016/03/04/%E5%BE%AE%E4%BF%A1Audio%E5%85%83%E7%B4%A0%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F.html</guid>
        
        
      </item>
    
      <item>
        <title>removeEventListener的差评</title>
        <description>&lt;p&gt;在react里给window绑定事件处理函数并且在componentWillUnmount里进行卸载，然而并没有什么暖用。
导致报错和内存泄漏问题。
Warning: setState(…): Can only update a mounted or mounting component. This usually means you called setState() on an unmounted component. This is a no-op.
使用this.isMounted来判断执行对组件的操作：
Uncaught TypeError: this.isMounted is not a functionhandler @ WorkFloatConnectButton.js:54(anonymous function) @ makeAssimilatePrototype.js:15&lt;/p&gt;

&lt;p&gt;warning.js:45 Warning: isMounted(…) is deprecated in plain JavaScript React classes. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.
在网上找到资料说，
window.addEventListener(type,handler,cap)
对应的取消监听window.removeEventListener(type,handler,cap)
绑定的事件和监听的事件要handler相同才能移除。&lt;/p&gt;

&lt;p&gt;然而。。。。&lt;/p&gt;

&lt;p&gt;我选择了注释0.0&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;componentDidMount() {
    regScroll(this.handler.bind(this));
    //window.addEventListener(&#39;scroll&#39;, this.handler.bind(this),false)
}
  
componentWillUnmount() {
    window.onscroll = &#39;&#39;;
    //window.removeEventListener(&#39;scroll&#39;, this.handler.bind(this),false)
}
  //添加事件监听
function regScroll(myHandler) {
    if (window.onscroll === null) {
        window.onscroll = myHandler
    } else if (typeof window.onscroll === &#39;function&#39;) {
        var oldHandler = window.onscroll;
        window.onscroll = function () {
            myHandler();
            oldHandler();
        }
    }
}
//删除所有事件监听
function removeScrollHandler(){
window.onscroll=&#39;&#39;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;0.0想来又何必regScroll啊。覆盖了就覆盖了啊。&lt;/p&gt;

&lt;p&gt;既然这样又不能清除自己绑定的事件。啪，一下把原来的都弄没了。&lt;/p&gt;

&lt;p&gt;regScroll何苦，&lt;/p&gt;

&lt;p&gt;还不如把原来绑定的onscroll都纷纷添加到一的存起来。&lt;/p&gt;

&lt;p&gt;取消监听的时候把自己删除了就是。。&lt;/p&gt;

&lt;p&gt;－。－&lt;/p&gt;

&lt;p&gt;蛤蛤。&lt;/p&gt;
</description>
        <pubDate>Thu, 25 Feb 2016 00:00:00 +0800</pubDate>
        <link>http://diaofly.com/2016/02/25/removeEventListener%E7%9A%84%E5%B7%AE%E8%AF%84.html</link>
        <guid isPermaLink="true">http://diaofly.com/2016/02/25/removeEventListener%E7%9A%84%E5%B7%AE%E8%AF%84.html</guid>
        
        
      </item>
    
      <item>
        <title>我的二零一五</title>
        <description>&lt;p&gt;这年的转变太多了。&lt;/p&gt;

&lt;p&gt;年中的时候感慨时间变化莫测沧海桑田人生充满了转折。
后来忘记提起这些，这年就蓦的走到了这。&lt;/p&gt;

&lt;p&gt;二零一六年二月三日。一点二十三。
出租屋里的洗衣机脱水当当当响个不停，洗了一周的衣服该有个了结了。
一百二十四的打车费用，从上地到分钟寺，在北京的地图上画出一个标准的长拐角。
想到明天就可以打飞的回去，不禁有些开心。&lt;/p&gt;

&lt;p&gt;这些天太累了，忙于工作，而没有做出大的成就。
失落和烦躁。还好大榴哥和晃晃姐总能鼓励和安慰。&lt;/p&gt;

&lt;p&gt;整个冬天的北京，变化无常。雾霾，雨雪，霜冻，晴天，大风，零下十度，暖阳。&lt;/p&gt;
</description>
        <pubDate>Wed, 03 Feb 2016 00:00:00 +0800</pubDate>
        <link>http://diaofly.com/%E7%94%9F%E6%B4%BB/2016/02/03/%E6%88%91%E7%9A%84%E4%BA%8C%E9%9B%B6%E4%B8%80%E4%BA%94.html</link>
        <guid isPermaLink="true">http://diaofly.com/%E7%94%9F%E6%B4%BB/2016/02/03/%E6%88%91%E7%9A%84%E4%BA%8C%E9%9B%B6%E4%B8%80%E4%BA%94.html</guid>
        
        
        <category>生活</category>
        
      </item>
    
  </channel>
</rss>
